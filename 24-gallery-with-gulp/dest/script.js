class AlbumApi{static URL="https://jsonplaceholder.typicode.com/";static NOT_FOUND=404;static request(e="",t="GET"){return fetch(AlbumApi.URL+e,{method:t,headers:{"Content-type":"application/json"}}).catch(e=>{throw new Error("AlbumApi cannot execute request: "+e.message)})}static getAlbumList(){return AlbumApi.request("albums").then(e=>{if(e.ok)return e.json();throw new Error("Cannot retrieve album list")})}static getAlbumImages(e){return AlbumApi.request("photos?albumId="+e).then(e=>{if(e.ok)return e.json();throw new Error("Cannot retrieve images of album")})}}const BROKEN_IMG_DELIVERY="via.placeholder",WORK_IMG_DELIVERY="dummyimage",albumListElement=document.querySelector("#album-list"),albumImagesElement=document.querySelector("#album-images");function onAlbumListElementClick(e){"BUTTON"===e.target.tagName&&(e=e.target.closest("li").dataset.id,AlbumApi.getAlbumImages(e).then(renderAlbumImages).catch(showError))}function renderAlbumList(e){e=e.map(generateAlbumItem).join("");albumListElement.innerHTML=e}function renderAlbumImages(e){e=e.map(generateAlbumImages).join("");albumImagesElement.innerHTML=e}function generateAlbumItem(e){return`
    <li class="albums__item" data-id="${e.id}"><button class="albums__button" type="button">${e.title}</button></li>
  `}function generateAlbumImages(e){return`
    <img class="album-images__item" src=${e.thumbnailUrl.replace(BROKEN_IMG_DELIVERY,WORK_IMG_DELIVERY)} alt="image ${e.id}"/>
  `}function showError(e){alert(e.message)}AlbumApi.getAlbumList().then(e=>{return renderAlbumList(e),e[0].id}).then(AlbumApi.getAlbumImages).then(renderAlbumImages).catch(showError),albumListElement.addEventListener("click",onAlbumListElementClick);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFsYnVtQXBpLmpzIiwic2NyaXB0LmpzIl0sIm5hbWVzIjpbIkFsYnVtQXBpIiwiVVJMIiwiTk9UX0ZPVU5EIiwicmVxdWVzdCIsInVybCIsIm1ldGhvZCIsImZldGNoIiwiaGVhZGVycyIsIkNvbnRlbnQtdHlwZSIsImNhdGNoIiwiRXJyb3IiLCJlIiwibWVzc2FnZSIsImdldEFsYnVtTGlzdCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJnZXRBbGJ1bUltYWdlcyIsImlkIiwiQlJPS0VOX0lNR19ERUxJVkVSWSIsIldPUktfSU1HX0RFTElWRVJZIiwiYWxidW1MaXN0RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFsYnVtSW1hZ2VzRWxlbWVudCIsIm9uQWxidW1MaXN0RWxlbWVudENsaWNrIiwidGFyZ2V0IiwidGFnTmFtZSIsImVsZW1lbnRJZCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwicmVuZGVyQWxidW1JbWFnZXMiLCJzaG93RXJyb3IiLCJyZW5kZXJBbGJ1bUxpc3QiLCJsaXN0IiwiYWxidW1MaXN0SHRtbCIsIm1hcCIsImdlbmVyYXRlQWxidW1JdGVtIiwiam9pbiIsImlubmVySFRNTCIsImltYWdlcyIsImFsYnVtSW1hZ2VzSHRtbCIsImdlbmVyYXRlQWxidW1JbWFnZXMiLCJpdGVtIiwidGl0bGUiLCJpbWFnZSIsInRodW1ibmFpbFVybCIsInJlcGxhY2UiLCJlcnJvciIsImFsZXJ0IiwiYWxidW1MaXN0IiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ik1BQUFBLFNBQ0FDLFdBQUEsd0NBQ0FDLGlCQUFBLElBRUFDLGVBQUFDLEVBQUEsR0FBQUMsRUFBQSxPQUNBLE9BQUFDLE1BQUFOLFNBQUFDLElBQUFHLEVBQUEsQ0FDQUMsT0FBQUEsRUFDQUUsUUFBQSxDQUNBQyxlQUFBLGtCQUNBLENBQ0EsQ0FBQSxFQUNBQyxNQUFBLElBQ0EsTUFBQSxJQUFBQyxNQUFBLG9DQUFBQyxFQUFBQyxPQUFBLENBQ0EsQ0FBQSxDQUNBLENBRUFDLHNCQUNBLE9BQUFiLFNBQ0FHLFFBQUEsUUFBQSxFQUNBVyxLQUFBQyxJQUNBLEdBQUFBLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQUUsS0FBQSxFQUdBLE1BQUEsSUFBQVAsTUFBQSw0QkFBQSxDQUNBLENBQUEsQ0FDQSxDQUVBUSxzQkFBQUMsR0FDQSxPQUFBbkIsU0FDQUcsUUFBQSxrQkFBQWdCLENBQUEsRUFDQUwsS0FBQUMsSUFDQSxHQUFBQSxFQUFBQyxHQUNBLE9BQUFELEVBQUFFLEtBQUEsRUFHQSxNQUFBLElBQUFQLE1BQUEsaUNBQUEsQ0FDQSxDQUFBLENBQ0EsQ0FDQSxDQXZDQSxNQUFBVSxvQkFBQSxrQkFDQUMsa0JBQUEsYUFFQUMsaUJBQUFDLFNBQUFDLGNBQUEsYUFBQSxFQUNBQyxtQkFBQUYsU0FBQUMsY0FBQSxlQUFBLEVBZ0JBLFNBQUFFLHdCQUFBZixHQUNBLFdBQUFBLEVBQUFnQixPQUFBQyxVQUtBQyxFQURBbEIsRUFBQWdCLE9BQUFHLFFBQUEsSUFBQSxFQUNBQyxRQUFBWixHQUVBbkIsU0FBQWtCLGVBQUFXLENBQUEsRUFDQWYsS0FBQWtCLGlCQUFBLEVBQ0F2QixNQUFBd0IsU0FBQSxFQUNBLENBRUEsU0FBQUMsZ0JBQUFDLEdBQ0FDLEVBQUFELEVBQUFFLElBQUFDLGlCQUFBLEVBQUFDLEtBQUEsRUFBQSxFQUVBakIsaUJBQUFrQixVQUFBSixDQUNBLENBRUEsU0FBQUosa0JBQUFTLEdBQ0FDLEVBQUFELEVBQUFKLElBQUFNLG1CQUFBLEVBQUFKLEtBQUEsRUFBQSxFQ3ZDQWQsbUJBQUFlLFVBQUFFLENBQ0EsQ0FFQSxTQUFBSixrQkFBQU0sR0FDQTt3Q0FDQUEsRUFBQXpCLG9EQUFBeUIsRUFBQUM7R0FFQSxDQUVBLFNBQUFGLG9CQUFBRyxHQUNBOzBDQUNBQSxFQUFBQyxhQUFBQyxRQUFBNUIsb0JBQUFDLGlCQUFBLGdCQUFBeUIsRUFBQTNCO0dBRUEsQ0FFQSxTQUFBYyxVQUFBZ0IsR0FDQUMsTUFBQUQsRUFBQXJDLE9BQUEsQ0FDQSxDRFpBWixTQUFBYSxhQUFBLEVBQ0FDLEtBQUFxQyxJQUtBLE9BSkFqQixnQkFBQWlCLENBQUEsRUFFQUEsRUFBQSxHQUFBaEMsRUFHQSxDQUFBLEVBQ0FMLEtBQUFkLFNBQUFrQixjQUFBLEVBQ0FKLEtBQUFrQixpQkFBQSxFQUNBdkIsTUFBQXdCLFNBQUEsRUFFQVgsaUJBQUE4QixpQkFBQSxRQUFBMUIsdUJBQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQWxidW1BcGkge1xyXG4gIHN0YXRpYyBVUkwgPSAnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tLyc7XHJcbiAgc3RhdGljIE5PVF9GT1VORCA9IDQwNDtcclxuXHJcbiAgc3RhdGljIHJlcXVlc3QodXJsID0gJycsIG1ldGhvZCA9ICdHRVQnKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goQWxidW1BcGkuVVJMICsgdXJsLCB7XHJcbiAgICAgIG1ldGhvZCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWxidW1BcGkgY2Fubm90IGV4ZWN1dGUgcmVxdWVzdDogJHtlLm1lc3NhZ2V9YCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEFsYnVtTGlzdCgpIHtcclxuICAgIHJldHVybiBBbGJ1bUFwaVxyXG4gICAgICAucmVxdWVzdCgnYWxidW1zJylcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJldHJpZXZlIGFsYnVtIGxpc3QnKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0QWxidW1JbWFnZXMoaWQpIHtcclxuICAgIHJldHVybiBBbGJ1bUFwaVxyXG4gICAgICAucmVxdWVzdCgncGhvdG9zP2FsYnVtSWQ9JyArIGlkKVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcmV0cmlldmUgaW1hZ2VzIG9mIGFsYnVtJyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJjb25zdCBCUk9LRU5fSU1HX0RFTElWRVJZID0gJ3ZpYS5wbGFjZWhvbGRlcic7XHJcbmNvbnN0IFdPUktfSU1HX0RFTElWRVJZID0gJ2R1bW15aW1hZ2UnO1xyXG5cclxuY29uc3QgYWxidW1MaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGJ1bS1saXN0Jyk7XHJcbmNvbnN0IGFsYnVtSW1hZ2VzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbGJ1bS1pbWFnZXMnKTtcclxuXHJcbkFsYnVtQXBpLmdldEFsYnVtTGlzdCgpXHJcbiAgLnRoZW4oYWxidW1MaXN0ID0+IHtcclxuICAgIHJlbmRlckFsYnVtTGlzdChhbGJ1bUxpc3QpO1xyXG5cclxuICAgIGNvbnN0IGZpcnN0QWxidW1JZCA9IGFsYnVtTGlzdFswXS5pZDtcclxuXHJcbiAgICByZXR1cm4gZmlyc3RBbGJ1bUlkO1xyXG4gIH0pXHJcbiAgLnRoZW4oQWxidW1BcGkuZ2V0QWxidW1JbWFnZXMpXHJcbiAgLnRoZW4ocmVuZGVyQWxidW1JbWFnZXMpXHJcbiAgLmNhdGNoKHNob3dFcnJvcik7XHJcblxyXG5hbGJ1bUxpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25BbGJ1bUxpc3RFbGVtZW50Q2xpY2spO1xyXG5cclxuZnVuY3Rpb24gb25BbGJ1bUxpc3RFbGVtZW50Q2xpY2soZSkge1xyXG4gIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnQlVUVE9OJykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgY2xpY2tlZEVsZW1lbnQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpO1xyXG4gIGNvbnN0IGVsZW1lbnRJZCA9IGNsaWNrZWRFbGVtZW50LmRhdGFzZXQuaWQ7XHJcblxyXG4gIEFsYnVtQXBpLmdldEFsYnVtSW1hZ2VzKGVsZW1lbnRJZClcclxuICAudGhlbihyZW5kZXJBbGJ1bUltYWdlcylcclxuICAuY2F0Y2goc2hvd0Vycm9yKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckFsYnVtTGlzdChsaXN0KSB7XHJcbiAgY29uc3QgYWxidW1MaXN0SHRtbCA9IGxpc3QubWFwKGdlbmVyYXRlQWxidW1JdGVtKS5qb2luKCcnKTtcclxuXHJcbiAgYWxidW1MaXN0RWxlbWVudC5pbm5lckhUTUwgPSBhbGJ1bUxpc3RIdG1sO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyQWxidW1JbWFnZXMoaW1hZ2VzKSB7XHJcbiAgY29uc3QgYWxidW1JbWFnZXNIdG1sID0gaW1hZ2VzLm1hcChnZW5lcmF0ZUFsYnVtSW1hZ2VzKS5qb2luKCcnKTtcclxuXHJcbiAgYWxidW1JbWFnZXNFbGVtZW50LmlubmVySFRNTCA9IGFsYnVtSW1hZ2VzSHRtbDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQWxidW1JdGVtKGl0ZW0pIHtcclxuICByZXR1cm4gYFxyXG4gICAgPGxpIGNsYXNzPVwiYWxidW1zX19pdGVtXCIgZGF0YS1pZD1cIiR7aXRlbS5pZH1cIj48YnV0dG9uIGNsYXNzPVwiYWxidW1zX19idXR0b25cIiB0eXBlPVwiYnV0dG9uXCI+JHtpdGVtLnRpdGxlfTwvYnV0dG9uPjwvbGk+XHJcbiAgYDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQWxidW1JbWFnZXMoaW1hZ2UpIHtcclxuICByZXR1cm4gYFxyXG4gICAgPGltZyBjbGFzcz1cImFsYnVtLWltYWdlc19faXRlbVwiIHNyYz0ke2ltYWdlLnRodW1ibmFpbFVybC5yZXBsYWNlKEJST0tFTl9JTUdfREVMSVZFUlksIFdPUktfSU1HX0RFTElWRVJZKX0gYWx0PVwiaW1hZ2UgJHtpbWFnZS5pZH1cIi8+XHJcbiAgYDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNob3dFcnJvcihlcnJvcikge1xyXG4gIGFsZXJ0KGVycm9yLm1lc3NhZ2UpO1xyXG59O1xyXG4iXX0=